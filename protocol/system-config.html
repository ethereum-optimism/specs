<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>System Config - OP Stack Specification</title>


        <!-- Custom HTML head -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-YNLKSPKGWN"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-YNLKSPKGWN');
        </script>
        <meta name="google-site-verification" content="1XjEcxxHshd6NM_mxbl_uv-SyamI6_99aOpILYI3_mk" />

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/css/footer.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OP Stack Specification</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ethereum-optimism/specs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ethereum-optimism/specs/edit/main/specs/protocol/system-config.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="system-config"><a class="header" href="#system-config">System Config</a></h1>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#definitions">Definitions</a>
<ul>
<li><a href="#batch-inbox">Batch Inbox</a></li>
<li><a href="#batcher-hash">Batcher Hash</a></li>
<li><a href="#fee-scalars">Fee Scalars</a>
<ul>
<li><a href="#pre-ecotone-parameters">Pre-Ecotone Parameters</a></li>
<li><a href="#post-ecotone-parameters">Post-Ecotone Parameters</a></li>
<li><a href="#post-ecotone-scalar-encoding">Post-Ecotone Scalar Encoding</a></li>
</ul>
</li>
<li><a href="#unsafe-block-signer">Unsafe Block Signer</a></li>
<li><a href="#l2-gas-limit">L2 Gas Limit</a></li>
<li><a href="#customizable-feature">Customizable Feature</a></li>
</ul>
</li>
<li><a href="#functionality">Functionality</a>
<ul>
<li><a href="#system-config-updates">System Config Updates</a></li>
</ul>
</li>
<li><a href="#function-specification">Function Specification</a>
<ul>
<li><a href="#initialize">initialize</a></li>
<li><a href="#upgrade">upgrade</a></li>
<li><a href="#setfeatureenabled">setFeatureEnabled</a></li>
<li><a href="#isfeatureenabled">isFeatureEnabled</a></li>
<li><a href="#minimumgaslimit">minimumGasLimit</a></li>
<li><a href="#maximumgaslimit">maximumGasLimit</a></li>
<li><a href="#unsafeblocksigner">unsafeBlockSigner</a></li>
<li><a href="#l1crossdomainmessenger">l1CrossDomainMessenger</a></li>
<li><a href="#l1erc721bridge">l1ERC721Bridge</a></li>
<li><a href="#l1standardbridge">l1StandardBridge</a></li>
<li><a href="#disputegamefactory">disputeGameFactory</a></li>
<li><a href="#optimismportal">optimismPortal</a></li>
<li><a href="#optimismmintableerc20factory">optimismMintableERC20Factory</a></li>
<li><a href="#getaddresses">getAddresses</a></li>
<li><a href="#batchinbox">batchInbox</a></li>
<li><a href="#startblock">startBlock</a></li>
<li><a href="#paused">paused</a></li>
<li><a href="#superchainconfig">superchainConfig</a></li>
<li><a href="#setunsafeblocksigner">setUnsafeBlockSigner</a></li>
<li><a href="#setbatcherhash">setBatcherHash</a></li>
<li><a href="#setgasconfig">setGasConfig</a></li>
<li><a href="#setgasconfigecotone">setGasConfigEcotone</a></li>
<li><a href="#setgaslimit">setGasLimit</a></li>
<li><a href="#seteip1559params">setEIP1559Params</a></li>
<li><a href="#setoperatorfeescalars">setOperatorFeeScalars</a></li>
<li><a href="#setminbasefee">setMinBaseFee</a></li>
<li><a href="#resourceconfig">resourceConfig</a></li>
<li><a href="#guardian">guardian</a></li>
</ul>
</li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The <code>SystemConfig</code> is a contract on L1 that can emit rollup configuration changes as log events.
The rollup <a href="derivation.html">block derivation process</a> picks up on these log events and applies the
changes. <code>SystemConfig</code> generally acts as the source of truth for configuration values within an
OP Stack chain.</p>
<h2 id="definitions"><a class="header" href="#definitions">Definitions</a></h2>
<h3 id="batch-inbox"><a class="header" href="#batch-inbox">Batch Inbox</a></h3>
<p>The <strong>Batch Inbox</strong> is the address that Sequencer transaction batches are published to. Sequencers
publish transactions to the Batch Inbox by setting it as the <code>to</code> address on a transaction
containing batched L2 transactions either in calldata or as blobdata.</p>
<h3 id="batcher-hash"><a class="header" href="#batcher-hash">Batcher Hash</a></h3>
<p>The <strong>Batcher Hash</strong> identifies the sender(s) whose transactions to the <a href="#batch-inbox">Batch Inbox</a>
will be recognized by the L2 clients for a given OP Chain.</p>
<p>The Batcher Hash is versioned by the first byte of the hash. The structure of the V0 Batcher Hash
is a 32 byte hash defined as follows:</p>
<div class="table-wrapper"><table><thead><tr><th>1 byte</th><th>11 bytes</th><th>20 bytes</th></tr></thead><tbody>
<tr><td>version (0x00)</td><td>empty</td><td>address</td></tr>
</tbody></table>
</div>
<p>This can also be understood as:</p>
<pre><code class="language-solidity">bytes32(address(batcher))
</code></pre>
<p>Where <code>batcher</code> is the address of the account that sends transactions to the Batch Inbox. Put
simply, the V0 hash identifies a <em>single</em> address whose transaction batches will be recognized by
L2 clients. This hash is versioned so that it could, for instance, be repurposed to be a commitment
to a list of permitted accounts or some other form of batcher identification.</p>
<h3 id="fee-scalars"><a class="header" href="#fee-scalars">Fee Scalars</a></h3>
<p>The <strong>Fee Scalars</strong> are parameters used to calculate the L1 data fee for L2 transactions. These
parameters are also known as Gas Price Oracle (GPO) parameters.</p>
<h4 id="pre-ecotone-parameters"><a class="header" href="#pre-ecotone-parameters">Pre-Ecotone Parameters</a></h4>
<p>Before the Ecotone upgrade, these include:</p>
<ul>
<li><strong>Scalar</strong>: A multiplier applied to the L1 base fee, interpreted as a big-endian <code>uint256</code></li>
<li><strong>Overhead</strong>: A constant gas overhead, interpreted as a big-endian <code>uint256</code></li>
</ul>
<h4 id="post-ecotone-parameters"><a class="header" href="#post-ecotone-parameters">Post-Ecotone Parameters</a></h4>
<p>After the Ecotone upgrade:</p>
<ul>
<li>The <strong>Scalar</strong> attribute encodes additional scalar information in a versioned encoding scheme</li>
<li>The <strong>Overhead</strong> value is ignored and does not affect the L2 state-transition output</li>
</ul>
<h4 id="post-ecotone-scalar-encoding"><a class="header" href="#post-ecotone-scalar-encoding">Post-Ecotone Scalar Encoding</a></h4>
<p>The Scalar is encoded as big-endian <code>uint256</code>, interpreted as <code>bytes32</code>, and composed as follows:</p>
<ul>
<li>Byte <code>0</code>: scalar-version byte</li>
<li>Bytes <code>[1, 32)</code>: depending on scalar-version:
<ul>
<li>Scalar-version <code>0</code>:
<ul>
<li>Bytes <code>[1, 28)</code>: padding, should be zero</li>
<li>Bytes <code>[28, 32)</code>: big-endian <code>uint32</code>, encoding the L1-fee <code>baseFeeScalar</code></li>
<li>This version implies the L1-fee <code>blobBaseFeeScalar</code> is set to 0</li>
<li>If there are non-zero bytes in the padding area, <code>baseFeeScalar</code> must be set to MaxUint32</li>
</ul>
</li>
<li>Scalar-version <code>1</code>:
<ul>
<li>Bytes <code>[1, 24)</code>: padding, must be zero</li>
<li>Bytes <code>[24, 28)</code>: big-endian <code>uint32</code>, encoding the <code>blobBaseFeeScalar</code></li>
<li>Bytes <code>[28, 32)</code>: big-endian <code>uint32</code>, encoding the <code>baseFeeScalar</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The <code>baseFeeScalar</code> corresponds to the share of the user-transaction (per byte) in the total
regular L1 EVM gas usage consumed by the data-transaction of the batch-submitter. For blob
transactions, this is the fixed intrinsic gas cost of the L1 transaction.</p>
<p>The <code>blobBaseFeeScalar</code> corresponds to the share of a user-transaction (per byte) in the total
blobdata that is introduced by the data-transaction of the batch-submitter.</p>
<h3 id="unsafe-block-signer"><a class="header" href="#unsafe-block-signer">Unsafe Block Signer</a></h3>
<p>The <strong>Unsafe Block Signer</strong> is an Ethereum address whose corresponding private key is used to sign
"unsafe" blocks before they are published to L1. This signature allows nodes in the P2P network to
recognize these blocks as the canonical unsafe blocks, preventing denial of service attacks on the
P2P layer.</p>
<p>To ensure that its value can be fetched with a storage proof in a storage layout independent
manner, it is stored at a special storage slot corresponding to
<code>keccak256("systemconfig.unsafeblocksigner")</code>.</p>
<p>Unlike other system config parameters, the Unsafe Block Signer only operates on blockchain policy
and is not a consensus level parameter.</p>
<h3 id="l2-gas-limit"><a class="header" href="#l2-gas-limit">L2 Gas Limit</a></h3>
<p>The <strong>L2 Gas Limit</strong> defines the maximum amount of gas that can be used in a single L2 block.
This parameter ensures that L2 blocks remain of reasonable size to be processed and proven.</p>
<p>Changes to the L2 gas limit are fully applied in the first L2 block with the L1 origin that
introduced the change, as opposed to the 1/1024 adjustments towards a target as seen in limit
updates of L1 blocks.</p>
<p>The gas limit may not be set to a value larger than the
<a href="./configurability.html#gas-limit">maximum gas limit</a>. This is to ensure that L2 blocks are fault
provable and of reasonable size to be processed by the client software.</p>
<h3 id="customizable-feature"><a class="header" href="#customizable-feature">Customizable Feature</a></h3>
<p>A <strong>Customizable Feature</strong> is a component of the OP Stack that is maintained as a production-grade
element of the stack behind some sort of toggle. A Customizable Feature is distinct from other
types of feature-flagged code because it is part of the mainline OP Stack and is intended to remain
as a supported configuration option indefinitely. Unlike short-lived feature flags, which exist
only to keep develop releasable while work is in progress, customizable features are permanent,
user-facing options. They must be fully documented, tested in all supported modes, and designed for
long-term maintainability.</p>
<h2 id="functionality"><a class="header" href="#functionality">Functionality</a></h2>
<h3 id="system-config-updates"><a class="header" href="#system-config-updates">System Config Updates</a></h3>
<p>System config updates are signaled through the <code>ConfigUpdate(uint256,uint8,bytes)</code> event. The event
structure includes:</p>
<ul>
<li>The first topic determines the version (unknown versions are critical derivation errors)</li>
<li>The second topic determines the type of update (unknown types are critical derivation errors)</li>
<li>The remaining event data encodes the configuration update</li>
</ul>
<p>In version <code>0</code>, the following update types are supported:</p>
<ul>
<li>Type <code>0</code>: <code>batcherHash</code> overwrite, as <code>bytes32</code> payload</li>
<li>Type <code>1</code>: Pre-Ecotone, <code>overhead</code> and <code>scalar</code> overwrite, as two packed <code>uint256</code> entries. After
Ecotone upgrade, <code>overhead</code> is ignored and <code>scalar</code> is interpreted as a versioned encoding that
updates <code>baseFeeScalar</code> and <code>blobBaseFeeScalar</code></li>
<li>Type <code>2</code>: <code>gasLimit</code> overwrite, as <code>uint64</code> payload</li>
<li>Type <code>3</code>: <code>unsafeBlockSigner</code> overwrite, as <code>address</code> payload</li>
<li>Type <code>4</code>: <code>eip1559Params</code> overwrite, as <code>uint256</code> payload encoding denomination and elasticity</li>
<li>Type <code>5</code>: <code>operatorFeeParams</code> overwrite, as <code>uint256</code> payload encoding scalar and constant</li>
<li>Type <code>6</code>: <code>minBaseFee</code> overwrite, as <code>uint64</code> payload</li>
</ul>
<h2 id="function-specification"><a class="header" href="#function-specification">Function Specification</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<ul>
<li>MUST only be triggerable by the ProxyAdmin or its owner.</li>
<li>MUST only be triggerable once.</li>
<li>MUST set the owner of the contract to the provided <code>_owner</code> address.</li>
<li>MUST set the SuperchainConfig contract address.</li>
<li>MUST set the batcher hash, gas config, gas limit, unsafe block signer, resource config, batch
inbox, L1 contract addresses, and L2 chain ID.</li>
<li>MUST set the start block to the current block number if it hasn't been set already.</li>
<li>MUST validate the resource configuration parameters against system constraints.</li>
</ul>
<h3 id="upgrade"><a class="header" href="#upgrade">upgrade</a></h3>
<ul>
<li>MUST only be triggerable by the ProxyAdmin or its owner.</li>
<li>MUST set the L2 chain ID to the provided value.</li>
<li>MUST set the SuperchainConfig contract address to the provided value.</li>
<li>MUST clear the old dispute game factory address from storage (now derived from OptimismPortal).</li>
</ul>
<h3 id="setfeatureenabled"><a class="header" href="#setfeatureenabled">setFeatureEnabled</a></h3>
<p>(+v4.1.0)</p>
<ul>
<li>Used to enable or disable a <a href="#customizable-feature">Customizable Feature</a>.</li>
<li>Takes a bytes32 feature string and a boolean as an input.</li>
<li>MUST only be triggerable by the ProxyAdmin or its owner.</li>
<li>MUST toggle the feature flag on or off, based on the value of the boolean.</li>
</ul>
<h3 id="isfeatureenabled"><a class="header" href="#isfeatureenabled">isFeatureEnabled</a></h3>
<p>(+v4.1.0)</p>
<ul>
<li>Takes a bytes32 feature string as an input.</li>
<li>Returns true if the feature is enabled and false otherwise.</li>
</ul>
<h3 id="minimumgaslimit"><a class="header" href="#minimumgaslimit">minimumGasLimit</a></h3>
<p>Returns the minimum L2 gas limit that can be safely set for the system to operate, calculated as
the sum of the maximum resource limit and the system transaction maximum gas.</p>
<h3 id="maximumgaslimit"><a class="header" href="#maximumgaslimit">maximumGasLimit</a></h3>
<p>Returns the maximum L2 gas limit that can be safely set for the system to operate.</p>
<h3 id="unsafeblocksigner"><a class="header" href="#unsafeblocksigner">unsafeBlockSigner</a></h3>
<p>Returns the address of the <a href="#unsafe-block-signer">Unsafe Block Signer</a>.</p>
<h3 id="l1crossdomainmessenger"><a class="header" href="#l1crossdomainmessenger">l1CrossDomainMessenger</a></h3>
<p>Returns the address of the L1CrossDomainMessenger contract.</p>
<h3 id="l1erc721bridge"><a class="header" href="#l1erc721bridge">l1ERC721Bridge</a></h3>
<p>Returns the address of the L1ERC721Bridge contract.</p>
<h3 id="l1standardbridge"><a class="header" href="#l1standardbridge">l1StandardBridge</a></h3>
<p>Returns the address of the L1StandardBridge contract.</p>
<h3 id="disputegamefactory"><a class="header" href="#disputegamefactory">disputeGameFactory</a></h3>
<p>Returns the address of the DisputeGameFactory contract, derived from the OptimismPortal.</p>
<h3 id="optimismportal"><a class="header" href="#optimismportal">optimismPortal</a></h3>
<p>Returns the address of the OptimismPortal contract.</p>
<h3 id="optimismmintableerc20factory"><a class="header" href="#optimismmintableerc20factory">optimismMintableERC20Factory</a></h3>
<p>Returns the address of the OptimismMintableERC20Factory contract.</p>
<h3 id="getaddresses"><a class="header" href="#getaddresses">getAddresses</a></h3>
<p>Returns a consolidated struct containing all the L1 contract addresses.</p>
<h3 id="batchinbox"><a class="header" href="#batchinbox">batchInbox</a></h3>
<p>Returns the address of the <a href="#batch-inbox">Batch Inbox</a>.</p>
<h3 id="startblock"><a class="header" href="#startblock">startBlock</a></h3>
<p>Returns the block number at which the op-node can start searching for logs.</p>
<h3 id="paused"><a class="header" href="#paused">paused</a></h3>
<p>(-v4.1.0) This function integrates with the <a href="./stage-1.html#pause-mechanism">Pause Mechanism</a> by
using the chain's <code>ETHLockbox</code> address as the <a href="./stage-1.html#pause-identifier">Pause Identifier</a>.
Returns the current pause state of the system by checking if the <code>SuperchainConfig</code> is paused for
this chain's <code>ETHLockbox</code>.</p>
<p>(+v4.1.0) This function integrates with the <a href="./stage-1.html#pause-mechanism">Pause Mechanism</a> by
using either the chain's <code>ETHLockbox</code> address or the chain's <code>OptimismPortal</code> address as the
<a href="./stage-1.html#pause-identifier">Pause Identifier</a>.</p>
<ul>
<li>(-v4.1.0) MUST return true if <code>SuperchainConfig.paused(optimismPortal().ethLockbox())</code> returns
true OR if <code>SuperchainConfig.paused(address(0))</code> returns true.</li>
<li>(+v4.1.0) MUST return true if <code>SuperchainConfig.paused(optimismPortal().ethLockbox())</code> returns
true AND the system is configured to use the <code>ETHLockbox</code> contract.</li>
<li>(+v4.1.0) MUST return true if <code>SuperchainConfig.paused(optimismPortal())</code> returns true AND the
system is NOT configured to use the <code>ETHLockbox</code> contract.</li>
<li>(+v4.1.0) MUST return true if <code>SuperchainConfig.paused(address(0))</code> returns true.</li>
<li>MUST return false otherwise.</li>
</ul>
<h3 id="superchainconfig"><a class="header" href="#superchainconfig">superchainConfig</a></h3>
<p>Returns the address of the SuperchainConfig contract that manages the pause state.</p>
<h3 id="setunsafeblocksigner"><a class="header" href="#setunsafeblocksigner">setUnsafeBlockSigner</a></h3>
<p>Allows the owner to update the <a href="#unsafe-block-signer">Unsafe Block Signer</a> address.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST update the unsafe block signer address.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.UNSAFE_BLOCK_SIGNER type.</li>
</ul>
<h3 id="setbatcherhash"><a class="header" href="#setbatcherhash">setBatcherHash</a></h3>
<p>Allows the owner to update the <a href="#batcher-hash">Batcher Hash</a>.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST update the batcher hash.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.BATCHER type.</li>
</ul>
<h3 id="setgasconfig"><a class="header" href="#setgasconfig">setGasConfig</a></h3>
<p>Allows the owner to update the gas configuration parameters (pre-Ecotone).</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST revert if the scalar exceeds the maximum allowed value (no upper 8 bits should be set).</li>
<li>MUST update the overhead and scalar values.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.FEE_SCALARS type.</li>
</ul>
<h3 id="setgasconfigecotone"><a class="header" href="#setgasconfigecotone">setGasConfigEcotone</a></h3>
<p>Allows the owner to update the gas configuration parameters (post-Ecotone).</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST update the basefeeScalar and blobbasefeeScalar values.</li>
<li>MUST update the scalar value with the versioned encoding.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.FEE_SCALARS type.</li>
</ul>
<h3 id="setgaslimit"><a class="header" href="#setgaslimit">setGasLimit</a></h3>
<p>Allows the owner to update the <a href="#l2-gas-limit">L2 Gas Limit</a>.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST revert if the gas limit is less than the minimum gas limit.</li>
<li>MUST revert if the gas limit is greater than the maximum gas limit.</li>
<li>MUST update the gas limit.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.GAS_LIMIT type.</li>
</ul>
<h3 id="seteip1559params"><a class="header" href="#seteip1559params">setEIP1559Params</a></h3>
<p>Allows the owner to update the EIP-1559 parameters of the chain.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST revert if the denominator is less than 1.</li>
<li>MUST revert if the elasticity is less than 1.</li>
<li>MUST update the eip1559Denominator and eip1559Elasticity values.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.EIP_1559_PARAMS type.</li>
</ul>
<h3 id="setoperatorfeescalars"><a class="header" href="#setoperatorfeescalars">setOperatorFeeScalars</a></h3>
<p>Allows the owner to update the operator fee parameters.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST update the operatorFeeScalar and operatorFeeConstant values.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.OPERATOR_FEE_PARAMS type.</li>
</ul>
<h3 id="setminbasefee"><a class="header" href="#setminbasefee">setMinBaseFee</a></h3>
<p>Starting at Jovian, this function allows the owner to update the minimum base fee parameter.</p>
<ul>
<li>MUST revert if called by an address other than the owner.</li>
<li>MUST update the minBaseFee value.</li>
<li>MUST emit a ConfigUpdate event with the UpdateType.MIN_BASE_FEE type.</li>
</ul>
<h3 id="resourceconfig"><a class="header" href="#resourceconfig">resourceConfig</a></h3>
<p>Returns the current resource metering configuration.</p>
<ul>
<li>MUST perform validation checks when setting the resource config:
<ul>
<li>Minimum base fee must be less than or equal to maximum base fee</li>
<li>Base fee change denominator must be greater than 1</li>
<li>Max resource limit plus system transaction gas must be less than or equal to the L2 gas limit</li>
<li>Elasticity multiplier must be greater than 0</li>
<li>No precision loss when computing target resource limit</li>
</ul>
</li>
</ul>
<h3 id="guardian"><a class="header" href="#guardian">guardian</a></h3>
<p>Returns the address of the guardian from the SuperchainConfig contract.</p>
<ul>
<li>MUST return the result of a call to <code>superchainConfig.guardian()</code>.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../protocol/superchain-upgrades.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../protocol/configurability.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../protocol/superchain-upgrades.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../protocol/configurability.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../specs/static/solidity.min.js"></script>
        <script src="../specs/static/mermaid.min.js"></script>
        <script src="../specs/static/mermaid-init.js"></script>
        <script src="../theme/js/footer.js"></script>


    </div>
    </body>
</html>
